//db config (prisma)
datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Usuarios {
  id              Int               @id @default(autoincrement())
  nombre          String?           @db.VarChar(255)
  apellido        String?           @db.VarChar(255)
  contrasena      String?           @db.VarChar(20)
  email           String            @unique(map: "email") @db.VarChar(255)
  fechaNacimiento DateTime
  pagos           Pagos[]
  carrito         Carritos?         @relation(fields: [carritosId], references: [id])
  emprendimiento  Emprendimientos[]
  estado          Boolean
  carritosId      Int?
}

model Carritos {
  id              Int             @id @default(autoincrement())
  idCarritosItems CarritosItems[]
  Usuarios        Usuarios[]
}

model CarritosItems {
  id              Int               @id @default(autoincrement())
  emprendimientos Emprendimientos[]
  planes          Planes?           @relation(fields: [planesId], references: [id])
  Carritos        Carritos?         @relation(fields: [carritosId], references: [id])
  carritosId      Int?
  planesId        Int?
}

model Emprendimientos {
  id              Int            @id @default(autoincrement())
  nombre          String?        @db.VarChar(255)
  descripcion     String?        @db.VarChar(255)
  ubicacion       String?        @db.VarChar(255)
  contacto        String?        @db.VarChar(255)
  imagen          String?        @db.VarChar(255)
  redes           String?        @db.VarChar(255)
  visibilidad     Int
  CarritosItems   CarritosItems? @relation(fields: [carritosItemsId], references: [id])
  carritosItemsId Int?
  Usuarios        Usuarios?      @relation(fields: [usuariosId], references: [id])
  usuariosId      Int?
}

// model Sucursales {
//   id                Int              @id @default(autoincrement())
//   Emprendimientos   Emprendimientos? @relation(fields: [emprendimientosId], references: [id])
//   emprendimientosId Int?
// }

model Historiales {
  id Int @id @default(autoincrement())
}

model Favoritos {
  id Int @id @default(autoincrement())
}

model Suscripciones {
  id          Int      @id @default(autoincrement())
  nombre      String
  fechaInicio DateTime
  fechaFinal  DateTime
  pago        Float
}

model Pagos {
  id        Int      @id @default(autoincrement())
  usuario   Usuarios @relation(fields: [usuarioId], references: [id])
  usuarioId Int
}

model MetodoPago {
  id Int @id @default(autoincrement())
}

model Direcciones {
  id          Int    @id @default(autoincrement())
  calle       String
  localidad   String
  provincia   String
  numero      Int
  piso        Int
  depto       String
  descripcion String
}

model Imagenes {
  id    Int     @id @default(autoincrement())
  value String
  logo  Boolean
}

model Ubicaciones {
  id  Int    @id @default(autoincrement())
  lat String
  lng String
}

model Planes {
  id            Int             @id @default(autoincrement())
  nombre        String
  precio        Float
  CarritosItems CarritosItems[]
}

model Roles {
  id     Int     @id @default(autoincrement())
  nombre String? @db.VarChar(50)
}

model Permisos {
  id     Int     @id @default(autoincrement())
  nombre String? @db.VarChar(255)
}

model Rubros {
  id     Int     @id @default(autoincrement())
  nombre String? @db.VarChar(50)
}

model Categorias {
  id     Int     @id @default(autoincrement())
  nombre String? @db.VarChar(50)
}
